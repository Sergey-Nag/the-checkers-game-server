var pl=Object.defineProperty;var dl=(t,e,l)=>e in t?pl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ct=(t,e,l)=>(dl(t,typeof e!="symbol"?e+"":e,l),l);const gl=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}};gl();function I(){}const Ct=t=>t;function ye(t,e){for(const l in e)t[l]=e[l];return t}function Xn(t){return t()}function $n(){return Object.create(null)}function ue(t){t.forEach(Xn)}function Be(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ml(t){return Object.keys(t).length===0}function Ht(t,...e){if(t==null)return I;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function hl(t){let e;return Ht(t,l=>e=l)(),e}function ve(t,e,l){t.$$.on_destroy.push(Ht(e,l))}function Gt(t,e,l,n){if(t){const r=el(t,e,l,n);return t[0](r)}}function el(t,e,l,n){return t[1]&&n?ye(l.ctx.slice(),t[1](n(e))):l.ctx}function Ut(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],i=Math.max(e.dirty.length,r.length);for(let a=0;a<i;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function qt(t,e,l,n,r,s){if(r){const i=el(e,l,n,s);t.p(i,r)}}function Kt(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function zt(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Rn(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function gt(t){return t==null?"":t}const tl=typeof window!="undefined";let Vt=tl?()=>window.performance.now():()=>Date.now(),Jt=tl?t=>requestAnimationFrame(t):I;const Me=new Set;function nl(t){Me.forEach(e=>{e.c(t)||(Me.delete(e),e.f())}),Me.size!==0&&Jt(nl)}function Yt(t){let e;return Me.size===0&&Jt(nl),{promise:new Promise(l=>{Me.add(e={c:t,f:l})}),abort(){Me.delete(e)}}}function f(t,e){t.appendChild(e)}function ll(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _l(t){const e=y("style");return bl(ll(t),e),e.sheet}function bl(t,e){f(t.head||t,e)}function A(t,e,l){t.insertBefore(e,l||null)}function E(t){t.parentNode.removeChild(t)}function mt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function y(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function R(){return z(" ")}function ke(){return z("")}function G(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function b(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ht(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:b(t,n,e[n])}function vl(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function be(t,e){t.value=e==null?"":e}function Mt(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function L(t,e,l){t.classList[l?"add":"remove"](e)}function rl(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,l,n,e),r}const _t=new Map;let bt=0;function yl(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function wl(t,e){const l={stylesheet:_l(e),rules:{}};return _t.set(t,l),l}function vt(t,e,l,n,r,s,i,a=0){const o=16.666/n;let c=`{
`;for(let p=0;p<=1;p+=o){const w=e+(l-e)*s(p);c+=p*100+`%{${i(w,1-w)}}
`}const u=c+`100% {${i(l,1-l)}}
}`,g=`__svelte_${yl(u)}_${a}`,m=ll(t),{stylesheet:d,rules:_}=_t.get(m)||wl(m,t);_[g]||(_[g]=!0,d.insertRule(`@keyframes ${g} ${u}`,d.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${g} ${n}ms linear ${r}ms 1 both`,bt+=1,g}function yt(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=l.length-n.length;r&&(t.style.animation=n.join(", "),bt-=r,bt||kl())}function kl(){Jt(()=>{bt||(_t.forEach(t=>{const{stylesheet:e}=t;let l=e.cssRules.length;for(;l--;)e.deleteRule(l);t.rules={}}),_t.clear())})}let Qe;function Je(t){Qe=t}function nt(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function $t(t){nt().$$.on_mount.push(t)}function lt(t){nt().$$.on_destroy.push(t)}function xl(){const t=nt();return(e,l,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=rl(e,l,{cancelable:n});return r.slice().forEach(i=>{i.call(t,s)}),!s.defaultPrevented}return!0}}function jt(t,e){return nt().$$.context.set(t,e),e}function Oe(t){return nt().$$.context.get(t)}function Cl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Ke=[],Sn=[],ft=[],On=[],$l=Promise.resolve();let Bt=!1;function Rl(){Bt||(Bt=!0,$l.then(il))}function Y(t){ft.push(t)}const Ot=new Set;let ut=0;function il(){const t=Qe;do{for(;ut<Ke.length;){const e=Ke[ut];ut++,Je(e),Sl(e.$$)}for(Je(null),Ke.length=0,ut=0;Sn.length;)Sn.pop()();for(let e=0;e<ft.length;e+=1){const l=ft[e];Ot.has(l)||(Ot.add(l),l())}ft.length=0}while(Ke.length);for(;On.length;)On.pop()();Bt=!1,Ot.clear(),Je(t)}function Sl(t){if(t.fragment!==null){t.update(),ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let qe;function Qt(){return qe||(qe=Promise.resolve(),qe.then(()=>{qe=null})),qe}function Se(t,e,l){t.dispatchEvent(rl(`${e?"intro":"outro"}${l}`))}const pt=new Set;let re;function V(){re={r:0,c:[],p:re}}function J(){re.r||ue(re.c),re=re.p}function x(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function $(t,e,l,n){if(t&&t.o){if(pt.has(t))return;pt.add(t),re.c.push(()=>{pt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}}const Zt={duration:0};function Ze(t,e,l){let n=e(t,l),r=!1,s,i,a=0;function o(){s&&yt(t,s)}function c(){const{delay:g=0,duration:m=300,easing:d=Ct,tick:_=I,css:h}=n||Zt;h&&(s=vt(t,0,1,m,g,d,h,a++)),_(0,1);const p=Vt()+g,w=p+m;i&&i.abort(),r=!0,Y(()=>Se(t,!0,"start")),i=Yt(O=>{if(r){if(O>=w)return _(1,0),Se(t,!0,"end"),o(),r=!1;if(O>=p){const k=d((O-p)/m);_(k,1-k)}}return r})}let u=!1;return{start(){u||(u=!0,yt(t),Be(n)?(n=n(),Qt().then(c)):c())},invalidate(){u=!1},end(){r&&(o(),r=!1)}}}function sl(t,e,l){let n=e(t,l),r=!0,s;const i=re;i.r+=1;function a(){const{delay:o=0,duration:c=300,easing:u=Ct,tick:g=I,css:m}=n||Zt;m&&(s=vt(t,1,0,c,o,u,m));const d=Vt()+o,_=d+c;Y(()=>Se(t,!1,"start")),Yt(h=>{if(r){if(h>=_)return g(0,1),Se(t,!1,"end"),--i.r||ue(i.c),!1;if(h>=d){const p=u((h-d)/c);g(1-p,p)}}return r})}return Be(n)?Qt().then(()=>{n=n(),a()}):a(),{end(o){o&&n.tick&&n.tick(1,0),r&&(s&&yt(t,s),r=!1)}}}function oe(t,e,l,n){let r=e(t,l),s=n?0:1,i=null,a=null,o=null;function c(){o&&yt(t,o)}function u(m,d){const _=m.b-s;return d*=Math.abs(_),{a:s,b:m.b,d:_,duration:d,start:m.start,end:m.start+d,group:m.group}}function g(m){const{delay:d=0,duration:_=300,easing:h=Ct,tick:p=I,css:w}=r||Zt,O={start:Vt()+d,b:m};m||(O.group=re,re.r+=1),i||a?a=O:(w&&(c(),o=vt(t,s,m,_,d,h,w)),m&&p(0,1),i=u(O,_),Y(()=>Se(t,m,"start")),Yt(k=>{if(a&&k>a.start&&(i=u(a,_),a=null,Se(t,i.b,"start"),w&&(c(),o=vt(t,s,i.b,i.duration,0,h,r.css))),i){if(k>=i.end)p(s=i.b,1-s),Se(t,i.b,"end"),a||(i.b?c():--i.group.r||ue(i.group.c)),i=null;else if(k>=i.start){const C=k-i.start;s=i.a+i.d*h(C/i.duration),p(s,1-s)}}return!!(i||a)}))}return{run(m){Be(r)?Qt().then(()=>{r=r(),g(m)}):g(m)},end(){c(),i=a=null}}}function Ol(t,e){$(t,1,1,()=>{e.delete(t.key)})}function Tl(t,e,l,n,r,s,i,a,o,c,u,g){let m=t.length,d=s.length,_=m;const h={};for(;_--;)h[t[_].key]=_;const p=[],w=new Map,O=new Map;for(_=d;_--;){const v=g(r,s,_),S=l(v);let N=i.get(S);N?n&&N.p(v,e):(N=c(S,v),N.c()),w.set(S,p[_]=N),S in h&&O.set(S,Math.abs(_-h[S]))}const k=new Set,C=new Set;function T(v){x(v,1),v.m(a,u),i.set(v.key,v),u=v.first,d--}for(;m&&d;){const v=p[d-1],S=t[m-1],N=v.key,ee=S.key;v===S?(u=v.first,m--,d--):w.has(ee)?!i.has(N)||k.has(N)?T(v):C.has(ee)?m--:O.get(N)>O.get(ee)?(C.add(N),T(v)):(k.add(ee),m--):(o(S,i),m--)}for(;m--;){const v=t[m];w.has(v.key)||o(v,i)}for(;d;)T(p[d-1]);return p}function Xt(t,e){const l={},n={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],a=e[s];if(a){for(const o in i)o in a||(n[o]=1);for(const o in a)r[o]||(l[o]=a[o],r[o]=1);t[s]=a}else for(const o in i)r[o]=1}for(const i in n)i in l||(l[i]=void 0);return l}function Tn(t){return typeof t=="object"&&t!==null?t:{}}function D(t){t&&t.c()}function M(t,e,l,n){const{fragment:r,on_mount:s,on_destroy:i,after_update:a}=t.$$;r&&r.m(e,l),n||Y(()=>{const o=s.map(Xn).filter(Be);i?i.push(...o):ue(o),t.$$.on_mount=[]}),a.forEach(Y)}function j(t,e){const l=t.$$;l.fragment!==null&&(ue(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Pl(t,e){t.$$.dirty[0]===-1&&(Ke.push(t),Rl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,l,n,r,s,i,a=[-1]){const o=Qe;Je(t);const c=t.$$={fragment:null,ctx:null,props:s,update:I,not_equal:r,bound:$n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:$n(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};i&&i(c.root);let u=!1;if(c.ctx=l?l(t,e.props||{},(g,m,...d)=>{const _=d.length?d[0]:m;return c.ctx&&r(c.ctx[g],c.ctx[g]=_)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](_),u&&Pl(t,g)),m}):[],c.update(),u=!0,ue(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const g=vl(e.target);c.fragment&&c.fragment.l(g),g.forEach(E)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),M(t,e.target,e.anchor,e.customElement),il()}Je(o)}class q{$destroy(){j(this,1),this.$destroy=I}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!ml(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const El=window.WEB_APP_BASE_URL,Xe=window.WEB_APP_API_HOST,Pn=Xe.startsWith("https"),Al=Xe.replace(Pn?"https":"http",Pn?"wss":"ws");class Nl{constructor(e,l){ct(this,"wss");ct(this,"callbacks",{board:null,eat:null,error:null,participant:null,highlight:null,gameStatus:null,gameOver:null,moveTurn:null});ct(this,"callbacksOnMessage",{board:e=>(this.callbacks.board=e,this.callbacksOnMessage),eat:e=>(this.callbacks.eat=e,this.callbacksOnMessage),error:e=>(this.callbacks.error=e,this.callbacksOnMessage),participant:e=>(this.callbacks.participant=e,this.callbacksOnMessage),highlight:e=>(this.callbacks.highlight=e,this.callbacksOnMessage),gameStatus:e=>(this.callbacks.gameStatus=e,this.callbacksOnMessage),gameOver:e=>(this.callbacks.gameOver=e,this.callbacksOnMessage),moveTurn:e=>(this.callbacks.moveTurn=e,this.callbacksOnMessage)});this.wss=new WebSocket(`${Al}?roomId=${e}&userName=${l}`)}onEvents(){return this.wss.onmessage=({data:e})=>{var r,s;const{type:l,message:n}=this.parsePayload(e);(s=(r=this.callbacks)[l])==null||s.call(r,n)},this.callbacksOnMessage}onConnect(e){return this.wss.onopen=e,this.onEvents()}onClose(e){this.wss.onclose=e}sendEvent(e,l){this.wss.send(this.getPayload(e,l))}end(){this.wss.close()}parsePayload(e){return JSON.parse(e)}getPayload(e,l){return JSON.stringify({type:e,message:l})}}const ze=[];function zl(t,e){return{subscribe:K(t,e).subscribe}}function K(t,e=I){let l;const n=new Set;function r(a){if(W(t,a)&&(t=a,l)){const o=!ze.length;for(const c of n)c[1](),ze.push(c,t);if(o){for(let c=0;c<ze.length;c+=2)ze[c][0](ze[c+1]);ze.length=0}}}function s(a){r(a(t))}function i(a,o=I){const c=[a,o];return n.add(c),n.size===1&&(l=e(r)||I),a(t),()=>{n.delete(c),n.size===0&&(l(),l=null)}}return{set:r,update:s,subscribe:i}}function Ml(t,e,l){const n=!Array.isArray(t),r=n?[t]:t,s=e.length<2;return zl(l,i=>{let a=!1;const o=[];let c=0,u=I;const g=()=>{if(c)return;u();const d=e(n?o[0]:o,i);s?i(d):u=Be(d)?d:I},m=r.map((d,_)=>Ht(d,h=>{o[_]=h,c&=~(1<<_),a&&g()},()=>{c|=1<<_}));return a=!0,g(),function(){ue(m),u()}})}const et=K(null);et.subscribe(t=>console.log("err",t));const Ye={error:K(null),eat:K(null),board:K([]),participantRole:K(null),participantIn:K(null),participantOut:K(null),highlight:K([]),gameOver:K(!1)},It=K(null);var Dt=(t=>(t.Move="move",t.Highlight="highlight",t))(Dt||{});function ol(t){const e=t-1;return e*e*e+1}function se(t,{delay:e=0,duration:l=400,easing:n=Ct}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:s=>`opacity: ${s*r}`}}function we(t,{delay:e=0,duration:l=400,easing:n=ol,x:r=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,c=a.transform==="none"?"":a.transform,u=o*(1-i);return{delay:e,duration:l,easing:n,css:(g,m)=>`
			transform: ${c} translate(${(1-g)*r}px, ${(1-g)*s}px);
			opacity: ${o-u*m}`}}function jl(t,{delay:e=0,duration:l=400,easing:n=ol,start:r=0,opacity:s=0}={}){const i=getComputedStyle(t),a=+i.opacity,o=i.transform==="none"?"":i.transform,c=1-r,u=a*(1-s);return{delay:e,duration:l,easing:n,css:(g,m)=>`
			transform: ${o} scale(${1-c*m});
			opacity: ${a-u*m}
		`}}function Bl(t){let e,l,n,r,s;return{c(){e=y("div"),b(e,"class",l=gt(`figure ${t[0].color}`)+" svelte-16uu5s4"),L(e,"king",t[0].isKing)},m(i,a){A(i,e,a),s=!0},p(i,[a]){t=i,(!s||a&1&&l!==(l=gt(`figure ${t[0].color}`)+" svelte-16uu5s4"))&&b(e,"class",l),a&1&&L(e,"king",t[0].isKing)},i(i){s||(Y(()=>{r&&r.end(1),n=Ze(e,t[2],{delay:t[1]}),n.start()}),s=!0)},o(i){n&&n.invalidate(),r=sl(e,t[3],{delay:t[1]}),s=!1},d(i){i&&E(e),i&&r&&r.end()}}}function Il(t,e,l){let n,r,s,{figure:i}=e,{animDelay:a=0}=e,{isFirstRender:o=!0}=e;return t.$$set=c=>{"figure"in c&&l(0,i=c.figure),"animDelay"in c&&l(4,a=c.animDelay),"isFirstRender"in c&&l(5,o=c.isFirstRender)},t.$$.update=()=>{t.$$.dirty&32&&l(3,n=se),t.$$.dirty&32&&l(2,r=o?jl:se),t.$$.dirty&48&&l(1,s=o?500+a:0)},[i,s,r,n,a,o]}class al extends q{constructor(e){super(),U(this,e,Il,Bl,W,{figure:0,animDelay:4,isFirstRender:5})}}function En(t){let e,l;return e=new al({props:{figure:t[0].figure,animDelay:t[1],isFirstRender:t[2]}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&1&&(s.figure=n[0].figure),r&2&&(s.animDelay=n[1]),r&4&&(s.isFirstRender=n[2]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function Dl(t){let e,l,n,r,s,i=t[0].figure&&En(t);return{c(){e=y("div"),i&&i.c(),b(e,"class",l=gt(`cell ${t[0].color} d-flex center`)+" svelte-1bprcl8"),L(e,"highlight",t[3]),L(e,"eat",t[4])},m(a,o){A(a,e,o),i&&i.m(e,null),n=!0,r||(s=G(e,"click",function(){Be(t[0].color==="black"&&t[5])&&(t[0].color==="black"&&t[5]).apply(this,arguments)}),r=!0)},p(a,[o]){t=a,t[0].figure?i?(i.p(t,o),o&1&&x(i,1)):(i=En(t),i.c(),x(i,1),i.m(e,null)):i&&(V(),$(i,1,1,()=>{i=null}),J()),(!n||o&1&&l!==(l=gt(`cell ${t[0].color} d-flex center`)+" svelte-1bprcl8"))&&b(e,"class",l),o&9&&L(e,"highlight",t[3]),o&17&&L(e,"eat",t[4])},i(a){n||(x(i),n=!0)},o(a){$(i),n=!1},d(a){a&&E(e),i&&i.d(),r=!1,s()}}}function Ll(t,e,l){let{cell:n}=e,{animFigureDelay:r=0}=e,{isFirstRender:s}=e,{playerColor:i}=e,a=!1,o=!1;const c=d=>d.find(({id:_})=>_===n.id),u=Ye.highlight.subscribe(d=>{const _=c(d);if(!_){l(3,a=!1),l(4,o=!1);return}l(3,a=!0),l(4,o=_.canEat)}),g=(d,_)=>({[d]:{id:_.id}}),m=()=>{n.figure&&n.figure.color!==i||It.update(d=>{var _;return d?((_=d.from)==null?void 0:_.id)===n.id?null:c(hl(Ye.highlight))?{...d,...g("to",n)}:n.figure?g("from",n):null:g("from",n)})};return lt(()=>{u()}),t.$$set=d=>{"cell"in d&&l(0,n=d.cell),"animFigureDelay"in d&&l(1,r=d.animFigureDelay),"isFirstRender"in d&&l(2,s=d.isFirstRender),"playerColor"in d&&l(6,i=d.playerColor)},[n,r,s,a,o,m,i]}class Fl extends q{constructor(e){super(),U(this,e,Ll,Dl,W,{cell:0,animFigureDelay:1,isFirstRender:2,playerColor:6})}}function An(t,e,l){const n=t.slice();return n[8]=e[l],n[10]=l,n}function Nn(t){let e,l=[],n=new Map,r,s,i=t[1];const a=o=>o[8].id;for(let o=0;o<i.length;o+=1){let c=An(t,i,o),u=a(c);n.set(u,l[o]=zn(u,c))}return{c(){e=y("div");for(let o=0;o<l.length;o+=1)l[o].c();b(e,"class","board svelte-my1oz1")},m(o,c){A(o,e,c);for(let u=0;u<l.length;u+=1)l[u].m(e,null);s=!0},p(o,c){c&7&&(i=o[1],V(),l=Tl(l,c,a,1,o,i,n,e,Ol,zn,null,An),J())},i(o){if(!s){for(let c=0;c<i.length;c+=1)x(l[c]);Y(()=>{r||(r=oe(e,we,{y:-100,duration:500},!0)),r.run(1)}),s=!0}},o(o){for(let c=0;c<l.length;c+=1)$(l[c]);r||(r=oe(e,we,{y:-100,duration:500},!1)),r.run(0),s=!1},d(o){o&&E(e);for(let c=0;c<l.length;c+=1)l[c].d();o&&r&&r.end()}}}function zn(t,e){let l,n,r;return n=new Fl({props:{cell:e[8],animFigureDelay:e[10]*5,isFirstRender:e[2],playerColor:e[0]}}),n.$on("unselect",e[6]),{key:t,first:null,c(){l=ke(),D(n.$$.fragment),this.first=l},m(s,i){A(s,l,i),M(n,s,i),r=!0},p(s,i){e=s;const a={};i&2&&(a.cell=e[8]),i&2&&(a.animFigureDelay=e[10]*5),i&4&&(a.isFirstRender=e[2]),i&1&&(a.playerColor=e[0]),n.$set(a)},i(s){r||(x(n.$$.fragment,s),r=!0)},o(s){$(n.$$.fragment,s),r=!1},d(s){s&&E(l),j(n,s)}}}function Wl(t){let e,l,n=t[3]&&Nn(t);return{c(){n&&n.c(),e=ke()},m(r,s){n&&n.m(r,s),A(r,e,s),l=!0},p(r,[s]){r[3]?n?(n.p(r,s),s&8&&x(n,1)):(n=Nn(r),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(V(),$(n,1,1,()=>{n=null}),J())},i(r){l||(x(n),l=!0)},o(r){$(n),l=!1},d(r){n&&n.d(r),r&&E(e)}}}function Hl(t,e,l){let n,r,{cells:s=[]}=e,{highlightedCells:i=[]}=e,{playerColor:a}=e,o=!0;$t(()=>{setTimeout(()=>{l(2,o=!1)},100)});function c(u){Cl.call(this,t,u)}return t.$$set=u=>{"cells"in u&&l(4,s=u.cells),"highlightedCells"in u&&l(5,i=u.highlightedCells),"playerColor"in u&&l(0,a=u.playerColor)},t.$$.update=()=>{t.$$.dirty&48&&l(1,n=s.map(u=>{const g=i.find(({id:m})=>m===u.id);return g&&(u={...u},u.isHighlight=!0,u.canEat=g.canEat),u})),t.$$.dirty&2&&l(3,r=n.length>0)},[a,n,o,r,s,i,c]}class Gl extends q{constructor(e){super(),U(this,e,Hl,Wl,W,{cells:4,highlightedCells:5,playerColor:0})}}function Mn(t){let e,l,n,r,s,i,a,o,c;return{c(){e=y("div"),l=y("div"),n=z("! "),r=z(t[0]),s=z(" !"),b(l,"class","msg svelte-1i1odkc"),b(e,"class","msg-wrapp svelte-1i1odkc")},m(u,g){A(u,e,g),f(e,l),f(l,n),f(l,r),f(l,s),c=!0},p(u,g){(!c||g&1)&&ie(r,u[0])},i(u){c||(i||Y(()=>{i=Ze(l,se,{duration:100,delay:100}),i.start()}),Y(()=>{o&&o.end(1),a=Ze(e,se,{duration:100}),a.start()}),c=!0)},o(u){a&&a.invalidate(),o=sl(e,se,{duration:500}),c=!1},d(u){u&&E(e),u&&o&&o.end()}}}function Ul(t){let e,l,n=t[0]&&Mn(t);return{c(){n&&n.c(),e=ke()},m(r,s){n&&n.m(r,s),A(r,e,s),l=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&x(n,1)):(n=Mn(r),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(V(),$(n,1,1,()=>{n=null}),J())},i(r){l||(x(n),l=!0)},o(r){$(n),l=!1},d(r){n&&n.d(r),r&&E(e)}}}let ql=1e3;function Kl(t,e,l){let n=null;const r=et.subscribe(s=>{l(0,n=s),setTimeout(()=>{et.set(null)},ql)});return lt(()=>{r()}),[n]}class Vl extends q{constructor(e){super(),U(this,e,Kl,Ul,W,{})}}function Jl(t){let e,l,n=[{class:l="avatar "+t[1]},t[2]],r={};for(let s=0;s<n.length;s+=1)r=ye(r,n[s]);return{c(){e=y("div"),ht(e,r),L(e,"no-avatar",!t[0].photo_url),L(e,"svelte-1iem2ua",!0)},m(s,i){A(s,e,i)},p(s,[i]){ht(e,r=Xt(n,[i&2&&l!==(l="avatar "+s[1])&&{class:l},i&4&&s[2]])),L(e,"no-avatar",!s[0].photo_url),L(e,"svelte-1iem2ua",!0)},i:I,o:I,d(s){s&&E(e)}}}function Yl(t,e,l){let n,{user:r}=e,{className:s=""}=e;return t.$$set=i=>{"user"in i&&l(0,r=i.user),"className"in i&&l(1,s=i.className)},t.$$.update=()=>{t.$$.dirty&1&&l(2,n=r.photo_url?{"style:backgroundImage":"url(user.photo_url)"}:{"data-letter":r.name[0]})},[r,s,n]}class wt extends q{constructor(e){super(),U(this,e,Yl,Jl,W,{user:0,className:1})}}const je=K(!1);var Ve=(t=>(t.Black="black",t.White="white",t.Watcher="watcher",t))(Ve||{}),dt=(t=>(t.Play="Play",t.GameOver="Game Over",t.GameNotStarted="Game is not started",t))(dt||{});function jn(t){let e,l,n,r,s,i=t[0].name+"",a,o,c,u,g=t[0].color+"",m,d,_;return n=new wt({props:{user:t[0]}}),{c(){e=y("div"),l=y("div"),D(n.$$.fragment),r=R(),s=y("div"),a=z(i),o=y("br"),c=R(),u=y("small"),m=z(g),b(u,"class","player-color svelte-1d0lbgm"),b(s,"class","name ml-4"),b(l,"class","d-flex y-center px-4 py-5"),b(e,"class","player-info svelte-1d0lbgm"),L(e,"highlight",t[2]===t[0].color)},m(h,p){A(h,e,p),f(e,l),M(n,l,null),f(l,r),f(l,s),f(s,a),f(s,o),f(s,c),f(s,u),f(u,m),_=!0},p(h,p){const w={};p&1&&(w.user=h[0]),n.$set(w),(!_||p&1)&&i!==(i=h[0].name+"")&&ie(a,i),(!_||p&1)&&g!==(g=h[0].color+"")&&ie(m,g),p&5&&L(e,"highlight",h[2]===h[0].color)},i(h){_||(x(n.$$.fragment,h),Y(()=>{d||(d=oe(e,we,{y:20,duration:500},!0)),d.run(1)}),_=!0)},o(h){$(n.$$.fragment,h),d||(d=oe(e,we,{y:20,duration:500},!1)),d.run(0),_=!1},d(h){h&&E(e),j(n),h&&d&&d.end()}}}function Ql(t){let e,l;return{c(){e=y("div"),e.textContent="Waiting...",b(e,"class","d-flex y-center fadind-loading px-4 svelte-1d0lbgm")},m(n,r){A(n,e,r)},p:I,i(n){l||Y(()=>{l=Ze(e,se,{}),l.start()})},o:I,d(n){n&&E(e)}}}function Zl(t){let e,l,n,r=t[1].name+"",s,i,a,o,c=t[1].color+"",u,g,m,d,_;return m=new wt({props:{user:t[1]}}),{c(){e=y("div"),l=y("div"),n=y("div"),s=z(r),i=y("br"),a=R(),o=y("small"),u=z(c),g=R(),D(m.$$.fragment),b(o,"class","player-color svelte-1d0lbgm"),b(n,"class","name mr-4"),b(l,"class","d-flex y-center px-4 py-5 text-right"),b(e,"class","player-info svelte-1d0lbgm"),L(e,"highlight",t[2]===t[1].color)},m(h,p){A(h,e,p),f(e,l),f(l,n),f(n,s),f(n,i),f(n,a),f(n,o),f(o,u),f(l,g),M(m,l,null),_=!0},p(h,p){(!_||p&2)&&r!==(r=h[1].name+"")&&ie(s,r),(!_||p&2)&&c!==(c=h[1].color+"")&&ie(u,c);const w={};p&2&&(w.user=h[1]),m.$set(w),p&6&&L(e,"highlight",h[2]===h[1].color)},i(h){_||(x(m.$$.fragment,h),Y(()=>{d||(d=oe(e,we,{y:20,duration:500},!0)),d.run(1)}),_=!0)},o(h){$(m.$$.fragment,h),d||(d=oe(e,we,{y:20,duration:500},!1)),d.run(0),_=!1},d(h){h&&E(e),j(m),h&&d&&d.end()}}}function Xl(t){let e,l,n,r,s,i=t[0]&&jn(t);const a=[Zl,Ql],o=[];function c(u,g){return u[1]?0:1}return n=c(t),r=o[n]=a[n](t),{c(){e=y("div"),i&&i.c(),l=R(),r.c(),b(e,"class","players-container d-flex space-between")},m(u,g){A(u,e,g),i&&i.m(e,null),f(e,l),o[n].m(e,null),s=!0},p(u,[g]){u[0]?i?(i.p(u,g),g&1&&x(i,1)):(i=jn(u),i.c(),x(i,1),i.m(e,l)):i&&(V(),$(i,1,1,()=>{i=null}),J());let m=n;n=c(u),n===m?o[n].p(u,g):(V(),$(o[m],1,1,()=>{o[m]=null}),J(),r=o[n],r?r.p(u,g):(r=o[n]=a[n](u),r.c()),x(r,1),r.m(e,null))},i(u){s||(x(i),x(r),s=!0)},o(u){$(i),$(r),s=!1},d(u){u&&E(e),i&&i.d(),o[n].d()}}}function er(t,e,l){let{player:n}=e,{opponent:r}=e,{moveTurn:s}=e;return t.$$set=i=>{"player"in i&&l(0,n=i.player),"opponent"in i&&l(1,r=i.opponent),"moveTurn"in i&&l(2,s=i.moveTurn)},[n,r,s]}class tr extends q{constructor(e){super(),U(this,e,er,Xl,W,{player:0,opponent:1,moveTurn:2})}}function Bn(t,e,l){const n=t.slice();return n[2]=e[l],n}function In(t){let e,l;return e=new al({props:{figure:t[2]}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&1&&(s.figure=n[2]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function nr(t){let e,l,n,r,s=t[0].length+"",i,a,o,c,u,g,m=t[0],d=[];for(let h=0;h<m.length;h+=1)d[h]=In(Bn(t,m,h));const _=h=>$(d[h],1,1,()=>{d[h]=null});return{c(){e=y("div"),l=y("div"),n=z(`Eaten\r
    (`),r=y("span"),i=z(s),a=z(")"),o=R(),c=y("div");for(let h=0;h<d.length;h+=1)d[h].c();b(l,"class","headline mb-4"),b(c,"class","figures-stack d-flex svelte-1iz6yxn"),L(c,"right",t[1]),b(e,"class","figures-wrapp px-4 svelte-1iz6yxn"),L(e,"text-right",t[1])},m(h,p){A(h,e,p),f(e,l),f(l,n),f(l,r),f(r,i),f(l,a),f(e,o),f(e,c);for(let w=0;w<d.length;w+=1)d[w].m(c,null);g=!0},p(h,[p]){if((!g||p&1)&&s!==(s=h[0].length+"")&&ie(i,s),p&1){m=h[0];let w;for(w=0;w<m.length;w+=1){const O=Bn(h,m,w);d[w]?(d[w].p(O,p),x(d[w],1)):(d[w]=In(O),d[w].c(),x(d[w],1),d[w].m(c,null))}for(V(),w=m.length;w<d.length;w+=1)_(w);J()}p&2&&L(c,"right",h[1]),p&2&&L(e,"text-right",h[1])},i(h){if(!g){for(let p=0;p<m.length;p+=1)x(d[p]);Y(()=>{u||(u=oe(e,we,{y:40,duration:700,delay:400},!0)),u.run(1)}),g=!0}},o(h){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)$(d[p]);u||(u=oe(e,we,{y:40,duration:700,delay:400},!1)),u.run(0),g=!1},d(h){h&&E(e),mt(d,h),h&&u&&u.end()}}}function lr(t,e,l){let{figures:n}=e,{startsOnTheRight:r=!1}=e;return t.$$set=s=>{"figures"in s&&l(0,n=s.figures),"startsOnTheRight"in s&&l(1,r=s.startsOnTheRight)},[n,r]}class Dn extends q{constructor(e){super(),U(this,e,lr,nr,W,{figures:0,startsOnTheRight:1})}}function rr(t){let e,l,n,r,s,i,a,o,c,u,g,m,d,_,h,p,w,O,k,C,T,v,S,N,ee,ae,xe,ne,fe,pe;return c=new wt({props:{user:t[0],className:"m-auto"}}),v=new wt({props:{user:t[1],className:"m-auto"}}),{c(){e=y("div"),l=y("div"),n=y("div"),n.textContent="Game over",r=R(),s=y("div"),i=y("div"),a=y("h2"),a.textContent="Winner",o=R(),D(c.$$.fragment),u=R(),g=y("span"),g.textContent=`${t[0].name}`,m=y("br"),d=R(),_=y("b"),_.textContent=`${t[2]}`,h=R(),p=y("div"),w=y("h3"),w.textContent=`${t[4]}/${t[5]}`,O=R(),k=y("div"),C=y("h2"),C.textContent="Loser",T=R(),D(v.$$.fragment),S=R(),N=y("span"),N.textContent=`${t[1].name}`,ee=R(),ae=y("br"),xe=R(),ne=y("b"),ne.textContent=`${t[3]}`,b(n,"class","message-title title-3 text-center p-2 mb-5 svelte-1qgfvw8"),b(i,"class","message-winner"),b(p,"class","message-score d-flex y-center"),b(k,"class","message-winner"),b(s,"class","d-flex space-between text-center"),b(l,"class","message p-5 svelte-1qgfvw8"),b(e,"class","message-overlay d-flex center svelte-1qgfvw8")},m(te,de){A(te,e,de),f(e,l),f(l,n),f(l,r),f(l,s),f(s,i),f(i,a),f(i,o),M(c,i,null),f(i,u),f(i,g),f(i,m),f(i,d),f(i,_),f(s,h),f(s,p),f(p,w),f(s,O),f(s,k),f(k,C),f(k,T),M(v,k,null),f(k,S),f(k,N),f(k,ee),f(k,ae),f(k,xe),f(k,ne),pe=!0},p:I,i(te){pe||(x(c.$$.fragment,te),x(v.$$.fragment,te),fe||Y(()=>{fe=Ze(e,se,{duration:500}),fe.start()}),pe=!0)},o(te){$(c.$$.fragment,te),$(v.$$.fragment,te),pe=!1},d(te){te&&E(e),j(c),j(v)}}}function ir(t,e,l){let{gameResults:n}=e,{winner:r,loser:s,winnerColor:i}=n,a=i==="black"?"white":"black",o=n.score[i],c=n.score[a];return t.$$set=u=>{"gameResults"in u&&l(6,n=u.gameResults)},[r,s,i,a,o,c,n]}class sr extends q{constructor(e){super(),U(this,e,ir,rr,W,{gameResults:6})}}function Tt(t){const e=t.slice(),l=e[0]==="black"?e[3]:e[4];e[21]=l;const n=e[1]==="black"?e[3]:e[4];return e[22]=n,e}function or(t){let e;return{c(){e=y("div"),e.textContent="Game Over",b(e,"class","game-over-msg svelte-dk3cwf")},m(l,n){A(l,e,n)},p:I,i:I,o:I,d(l){l&&E(e)}}}function ar(t){let e,l;return e=new sr({props:{gameResults:t[8]}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&256&&(s.gameResults=n[8]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function Ln(t){let e,l;return e=new tr({props:{player:t[9],opponent:t[10],moveTurn:t[6]}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&512&&(s.player=n[9]),r&1024&&(s.opponent=n[10]),r&64&&(s.moveTurn=n[6]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function Fn(t){let e,l,n,r,s;return l=new Dn({props:{figures:t[21]}}),r=new Dn({props:{figures:t[22],startsOnTheRight:!0}}),{c(){e=y("div"),D(l.$$.fragment),n=R(),D(r.$$.fragment),b(e,"class","figures d-flex space-between"),L(e,"mt-5",t[7])},m(i,a){A(i,e,a),M(l,e,null),f(e,n),M(r,e,null),s=!0},p(i,a){const o={};a&25&&(o.figures=i[21]),l.$set(o);const c={};a&26&&(c.figures=i[22]),r.$set(c),a&128&&L(e,"mt-5",i[7])},i(i){s||(x(l.$$.fragment,i),x(r.$$.fragment,i),s=!0)},o(i){$(l.$$.fragment,i),$(r.$$.fragment,i),s=!1},d(i){i&&E(e),j(l),j(r)}}}function cr(t){var O;let e,l,n,r,s,i,a,o,c,u,g,m;e=new Vl({});const d=[ar,or],_=[];function h(k,C){return k[7]&&k[8]?0:k[7]?1:-1}~(n=h(t))&&(r=_[n]=d[n](t)),c=new Gl({props:{cells:t[2],highlightedCells:t[11],playerColor:(O=t[9])==null?void 0:O.color}});let p=t[5]&&!t[7]&&Ln(t),w=t[0]&&Fn(Tt(t));return{c(){D(e.$$.fragment),l=R(),r&&r.c(),s=R(),i=y("div"),a=y("div"),o=y("div"),D(c.$$.fragment),u=R(),p&&p.c(),g=R(),w&&w.c(),b(o,"class","board-wrapp svelte-dk3cwf"),b(a,"class","board-container svelte-dk3cwf"),b(i,"class","h-100 w-100 d-flex column"),Mt(i,"pointer-events",t[7]?"none":"unset",!1)},m(k,C){M(e,k,C),A(k,l,C),~n&&_[n].m(k,C),A(k,s,C),A(k,i,C),f(i,a),f(a,o),M(c,o,null),f(i,u),p&&p.m(i,null),f(i,g),w&&w.m(i,null),m=!0},p(k,[C]){var S;let T=n;n=h(k),n===T?~n&&_[n].p(k,C):(r&&(V(),$(_[T],1,1,()=>{_[T]=null}),J()),~n?(r=_[n],r?r.p(k,C):(r=_[n]=d[n](k),r.c()),x(r,1),r.m(s.parentNode,s)):r=null);const v={};C&4&&(v.cells=k[2]),C&512&&(v.playerColor=(S=k[9])==null?void 0:S.color),c.$set(v),k[5]&&!k[7]?p?(p.p(k,C),C&160&&x(p,1)):(p=Ln(k),p.c(),x(p,1),p.m(i,g)):p&&(V(),$(p,1,1,()=>{p=null}),J()),k[0]?w?(w.p(Tt(k),C),C&1&&x(w,1)):(w=Fn(Tt(k)),w.c(),x(w,1),w.m(i,null)):w&&(V(),$(w,1,1,()=>{w=null}),J()),C&128&&Mt(i,"pointer-events",k[7]?"none":"unset",!1)},i(k){m||(x(e.$$.fragment,k),x(r),x(c.$$.fragment,k),x(p),x(w),m=!0)},o(k){$(e.$$.fragment,k),$(r),$(c.$$.fragment,k),$(p),$(w),m=!1},d(k){j(e,k),k&&E(l),~n&&_[n].d(k),k&&E(s),k&&E(i),j(c),p&&p.d(),w&&w.d()}}}function ur(t,e,l){let n,r,s,{roomId:i="Rhmw41bl55d02ae"}=e,{username:a}=Oe("user"),o;dt.GameNotStarted;let c=[],u=[],g=[],m=[],d,_,h=!1,p,w,O=!1,k;const C=async()=>{l(5,d=await fetch(`${Xe}/api/room/${i}`).then(v=>v.json()))};$t(()=>{je.set(!0),p=new Nl(i,a),p.onConnect(async()=>{try{await C()}catch(v){console.log(v)}finally{je.set(!1)}}).board(v=>{l(2,c=v),Ye.highlight.set([])}).eat(({white:v,black:S})=>{v.length!==g.length&&l(3,g=v),S.length!==m.length&&l(4,m=S)}).participant(v=>{var S,N;l(13,_=v.players),v.watchers,((S=_.white)==null?void 0:S.name)===a?l(0,o=Ve.White):((N=_.black)==null?void 0:N.name)===a?l(0,o=Ve.Black):(l(0,o=Ve.Watcher),l(14,h=!0))}).gameStatus(v=>{console.log(v),v===dt.Play?window.Telegram.WebApp.ready():v===dt.GameOver&&l(7,O=!0)}).highlight(v=>{Ye.highlight.set(v)}).moveTurn(v=>{w===v&&v===r.color&&It.update(S=>({from:S.to})),l(6,w=v)}).gameOver(v=>{l(8,k=v)}).error(v=>{et.set(v)})});const T=It.subscribe(v=>{if(!d)return;if(!v){Ye.highlight.set([]);return}const{from:S,to:N}=v;N?S&&N&&p.sendEvent(Dt.Move,{from:S,to:N}):p.sendEvent(Dt.Highlight,{from:S})});return lt(()=>{T(),p.end()}),t.$$set=v=>{"roomId"in v&&l(12,i=v.roomId)},t.$$.update=()=>{t.$$.dirty&1&&l(1,n=!!o&&o===Ve.Black?"white":"black"),t.$$.dirty&24577&&l(9,r=!!o&&_[h?"white":o]),t.$$.dirty&24579&&l(10,s=!!o&&_[h?"black":n])},[o,n,c,g,m,d,w,O,k,r,s,u,i,_,h]}class fr extends q{constructor(e){super(),U(this,e,ur,cr,W,{roomId:12})}}const kt={},xt={};function Pt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}function pr(t,e){const l=[];let n=Pt(t);return{get location(){return n},listen(r){l.push(r);const s=()=>{n=Pt(t),r({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const i=l.indexOf(r);l.splice(i,1)}},navigate(r,{state:s,replace:i=!1}={}){s={...s,key:Date.now()+""};try{i?t.history.replaceState(s,null,r):t.history.pushState(s,null,r)}catch{t.location[i?"replace":"assign"](r)}n=Pt(t),l.forEach(a=>a({location:n,action:"PUSH"}))}}}function dr(t="/"){let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(r,s,i){const[a,o=""]=i.split("?");e++,l.push({pathname:a,search:o}),n.push(r)},replaceState(r,s,i){const[a,o=""]=i.split("?");l[e]={pathname:a,search:o},n[e]=r}}}}const gr=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),Lt=pr(gr?window:dr()),{navigate:mr}=Lt,cl=/^:(.+)/,Wn=4,hr=3,_r=2,br=1,vr=1;function Ft(t,e){return t.substr(0,e.length)===e}function yr(t){return t===""}function wr(t){return cl.test(t)}function ul(t){return t[0]==="*"}function tt(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Et(t){return t.replace(/(^\/+|\/+$)/g,"")}function kr(t,e){const l=t.default?0:tt(t.path).reduce((n,r)=>(n+=Wn,yr(r)?n+=vr:wr(r)?n+=_r:ul(r)?n-=Wn+br:n+=hr,n),0);return{route:t,score:l,index:e}}function xr(t){return t.map(kr).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function fl(t,e){let l,n;const[r]=e.split("?"),s=tt(r),i=s[0]==="",a=xr(t);for(let o=0,c=a.length;o<c;o++){const u=a[o].route;let g=!1;if(u.default){n={route:u,params:{},uri:e};continue}const m=tt(u.path),d={},_=Math.max(s.length,m.length);let h=0;for(;h<_;h++){const p=m[h],w=s[h];if(p!==void 0&&ul(p)){const k=p==="*"?"*":p.slice(1);d[k]=s.slice(h).map(decodeURIComponent).join("/");break}if(w===void 0){g=!0;break}let O=cl.exec(p);if(O&&!i){const k=decodeURIComponent(w);d[O[1]]=k}else if(p!==w){g=!0;break}}if(!g){l={route:u,params:d,uri:"/"+s.slice(0,h).join("/")};break}}return l||n||null}function Cr(t,e){return fl([t],e)}function At(t,e){return t+(e?`?${e}`:"")}function $r(t,e){if(Ft(t,"/"))return t;const[l,n]=t.split("?"),[r]=e.split("?"),s=tt(l),i=tt(r);if(s[0]==="")return At(r,n);if(!Ft(s[0],".")){const c=i.concat(s).join("/");return At((r==="/"?"":"/")+c,n)}const a=i.concat(s),o=[];return a.forEach(c=>{c===".."?o.pop():c!=="."&&o.push(c)}),At("/"+o.join("/"),n)}function Hn(t,e){return`${Et(e==="/"?t:`${Et(t)}/${Et(e)}`)}/`}function Rr(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sr(t){let e;const l=t[9].default,n=Gt(l,t,t[8],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,[s]){n&&n.p&&(!e||s&256)&&qt(n,l,r,r[8],e?Ut(l,r[8],s,null):Kt(r[8]),null)},i(r){e||(x(n,r),e=!0)},o(r){$(n,r),e=!1},d(r){n&&n.d(r)}}}function Or(t,e,l){let n,r,s,{$$slots:i={},$$scope:a}=e,{basepath:o="/"}=e,{url:c=null}=e;const u=Oe(kt),g=Oe(xt),m=K([]);ve(t,m,C=>l(6,r=C));const d=K(null);let _=!1;const h=u||K(c?{pathname:c}:Lt.location);ve(t,h,C=>l(5,n=C));const p=g?g.routerBase:K({path:o,uri:o});ve(t,p,C=>l(7,s=C));const w=Ml([p,d],([C,T])=>{if(T===null)return C;const{path:v}=C,{route:S,uri:N}=T;return{path:S.default?v:S.path.replace(/\*.*$/,""),uri:N}});function O(C){const{path:T}=s;let{path:v}=C;if(C._path=v,C.path=Hn(T,v),typeof window=="undefined"){if(_)return;const S=Cr(C,n.pathname);S&&(d.set(S),_=!0)}else m.update(S=>(S.push(C),S))}function k(C){m.update(T=>{const v=T.indexOf(C);return T.splice(v,1),T})}return u||($t(()=>Lt.listen(T=>{h.set(T.location)})),jt(kt,h)),jt(xt,{activeRoute:d,base:p,routerBase:w,registerRoute:O,unregisterRoute:k}),t.$$set=C=>{"basepath"in C&&l(3,o=C.basepath),"url"in C&&l(4,c=C.url),"$$scope"in C&&l(8,a=C.$$scope)},t.$$.update=()=>{if(t.$$.dirty&128){const{path:C}=s;m.update(T=>(T.forEach(v=>v.path=Hn(C,v._path)),T))}if(t.$$.dirty&96){const C=fl(r,n.pathname);d.set(C)}},[m,h,p,o,c,n,r,s,a,i]}class Tr extends q{constructor(e){super(),U(this,e,Or,Sr,W,{basepath:3,url:4})}}const Pr=t=>({params:t&4,location:t&16}),Gn=t=>({params:t[2],location:t[4]});function Un(t){let e,l,n,r;const s=[Ar,Er],i=[];function a(o,c){return o[0]!==null?0:1}return e=a(t),l=i[e]=s[e](t),{c(){l.c(),n=ke()},m(o,c){i[e].m(o,c),A(o,n,c),r=!0},p(o,c){let u=e;e=a(o),e===u?i[e].p(o,c):(V(),$(i[u],1,1,()=>{i[u]=null}),J(),l=i[e],l?l.p(o,c):(l=i[e]=s[e](o),l.c()),x(l,1),l.m(n.parentNode,n))},i(o){r||(x(l),r=!0)},o(o){$(l),r=!1},d(o){i[e].d(o),o&&E(n)}}}function Er(t){let e;const l=t[10].default,n=Gt(l,t,t[9],Gn);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&532)&&qt(n,l,r,r[9],e?Ut(l,r[9],s,Pr):Kt(r[9]),Gn)},i(r){e||(x(n,r),e=!0)},o(r){$(n,r),e=!1},d(r){n&&n.d(r)}}}function Ar(t){let e,l,n;const r=[{location:t[4]},t[2],t[3]];var s=t[0];function i(a){let o={};for(let c=0;c<r.length;c+=1)o=ye(o,r[c]);return{props:o}}return s&&(e=new s(i())),{c(){e&&D(e.$$.fragment),l=ke()},m(a,o){e&&M(e,a,o),A(a,l,o),n=!0},p(a,o){const c=o&28?Xt(r,[o&16&&{location:a[4]},o&4&&Tn(a[2]),o&8&&Tn(a[3])]):{};if(s!==(s=a[0])){if(e){V();const u=e;$(u.$$.fragment,1,0,()=>{j(u,1)}),J()}s?(e=new s(i()),D(e.$$.fragment),x(e.$$.fragment,1),M(e,l.parentNode,l)):e=null}else s&&e.$set(c)},i(a){n||(e&&x(e.$$.fragment,a),n=!0)},o(a){e&&$(e.$$.fragment,a),n=!1},d(a){a&&E(l),e&&j(e,a)}}}function Nr(t){let e,l,n=t[1]!==null&&t[1].route===t[7]&&Un(t);return{c(){n&&n.c(),e=ke()},m(r,s){n&&n.m(r,s),A(r,e,s),l=!0},p(r,[s]){r[1]!==null&&r[1].route===r[7]?n?(n.p(r,s),s&2&&x(n,1)):(n=Un(r),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(V(),$(n,1,1,()=>{n=null}),J())},i(r){l||(x(n),l=!0)},o(r){$(n),l=!1},d(r){n&&n.d(r),r&&E(e)}}}function zr(t,e,l){let n,r,{$$slots:s={},$$scope:i}=e,{path:a=""}=e,{component:o=null}=e;const{registerRoute:c,unregisterRoute:u,activeRoute:g}=Oe(xt);ve(t,g,p=>l(1,n=p));const m=Oe(kt);ve(t,m,p=>l(4,r=p));const d={path:a,default:a===""};let _={},h={};return c(d),typeof window!="undefined"&&lt(()=>{u(d)}),t.$$set=p=>{l(13,e=ye(ye({},e),zt(p))),"path"in p&&l(8,a=p.path),"component"in p&&l(0,o=p.component),"$$scope"in p&&l(9,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&n&&n.route===d&&l(2,_=n.params);{const{path:p,component:w,...O}=e;l(3,h=O)}},e=zt(e),[o,n,_,h,r,g,m,d,a,i,s]}class Nt extends q{constructor(e){super(),U(this,e,zr,Nr,W,{path:8,component:0})}}function Mr(t){let e,l,n,r;const s=t[16].default,i=Gt(s,t,t[15],null);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],o={};for(let c=0;c<a.length;c+=1)o=ye(o,a[c]);return{c(){e=y("a"),i&&i.c(),ht(e,o)},m(c,u){A(c,e,u),i&&i.m(e,null),l=!0,n||(r=G(e,"click",t[5]),n=!0)},p(c,[u]){i&&i.p&&(!l||u&32768)&&qt(i,s,c,c[15],l?Ut(s,c[15],u,null):Kt(c[15]),null),ht(e,o=Xt(a,[(!l||u&1)&&{href:c[0]},(!l||u&4)&&{"aria-current":c[2]},u&2&&c[1],u&64&&c[6]]))},i(c){l||(x(i,c),l=!0)},o(c){$(i,c),l=!1},d(c){c&&E(e),i&&i.d(c),n=!1,r()}}}function jr(t,e,l){let n;const r=["to","replace","state","getProps"];let s=Rn(e,r),i,a,{$$slots:o={},$$scope:c}=e,{to:u="#"}=e,{replace:g=!1}=e,{state:m={}}=e,{getProps:d=()=>({})}=e;const{base:_}=Oe(xt);ve(t,_,v=>l(14,a=v));const h=Oe(kt);ve(t,h,v=>l(13,i=v));const p=xl();let w,O,k,C;function T(v){if(p("click",v),Rr(v)){v.preventDefault();const S=i.pathname===w||g;mr(w,{state:m,replace:S})}}return t.$$set=v=>{e=ye(ye({},e),zt(v)),l(6,s=Rn(e,r)),"to"in v&&l(7,u=v.to),"replace"in v&&l(8,g=v.replace),"state"in v&&l(9,m=v.state),"getProps"in v&&l(10,d=v.getProps),"$$scope"in v&&l(15,c=v.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&l(0,w=u==="/"?a.uri:$r(u,a.uri)),t.$$.dirty&8193&&l(11,O=Ft(i.pathname,w)),t.$$.dirty&8193&&l(12,k=w===i.pathname),t.$$.dirty&4096&&l(2,n=k?"page":void 0),t.$$.dirty&15361&&l(1,C=d({location:i,href:w,isPartiallyCurrent:O,isCurrent:k}))},[w,C,n,_,h,T,s,u,g,m,d,O,k,i,a,c,o]}class Br extends q{constructor(e){super(),U(this,e,jr,Mr,W,{to:7,replace:8,state:9,getProps:10})}}function qn(t){let e,l,n;return{c(){e=y("div"),e.innerHTML=`<div class="spinner-wrapp d-flex center svelte-upyxi7"></div> 
    <svg class="spinner svelte-upyxi7" width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39.4625 20.5C40.3116 20.5 41.006 21.1893 40.9424 22.0361C40.6784 25.5496 39.5122 28.9452 37.5451 31.8892C35.2926 35.2604 32.0909 37.8879 28.345 39.4395C24.5991 40.9911 20.4773 41.3971 16.5006 40.6061C12.524 39.8151 8.87129 37.8627 6.00431 34.9957C3.13733 32.1287 1.1849 28.476 0.393902 24.4994C-0.397095 20.5227 0.00887314 16.4009 1.56047 12.655C3.11207 8.9091 5.7396 5.70744 9.11081 3.45487C12.0548 1.48777 15.4504 0.321606 18.9639 0.0576201C19.8107 -0.00600024 20.5 0.688362 20.5 1.5375C20.5 2.38664 19.8103 3.06795 18.9644 3.14278C16.0599 3.39972 13.2573 4.38254 10.8192 6.01164C7.95366 7.92632 5.72026 10.6477 4.4014 13.8317C3.08254 17.0157 2.73747 20.5193 3.40982 23.8994C4.08216 27.2796 5.74173 30.3844 8.17866 32.8213C10.6156 35.2583 13.7204 36.9178 17.1006 37.5902C20.4807 38.2625 23.9843 37.9175 27.1683 36.5986C30.3523 35.2797 33.0737 33.0463 34.9884 30.1808C36.6175 27.7427 37.6003 24.9401 37.8572 22.0356C37.932 21.1897 38.6134 20.5 39.4625 20.5Z" fill="#6B7278" class="svelte-upyxi7"></path></svg>`,b(e,"class","spinner-bg d-flex center svelte-upyxi7")},m(r,s){A(r,e,s),n=!0},i(r){n||(Y(()=>{l||(l=oe(e,se,{},!0)),l.run(1)}),n=!0)},o(r){l||(l=oe(e,se,{},!1)),l.run(0),n=!1},d(r){r&&E(e),r&&l&&l.end()}}}function Ir(t){let e,l,n=t[0]&&qn();return{c(){n&&n.c(),e=ke()},m(r,s){n&&n.m(r,s),A(r,e,s),l=!0},p(r,[s]){r[0]?n?s&1&&x(n,1):(n=qn(),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(V(),$(n,1,1,()=>{n=null}),J())},i(r){l||(x(n),l=!0)},o(r){$(n),l=!1},d(r){n&&n.d(r),r&&E(e)}}}function Dr(t,e,l){let n=!1;const r=je.subscribe(s=>{l(0,n=s)});return lt(()=>{r()}),[n]}class Lr extends q{constructor(e){super(),U(this,e,Dr,Ir,W,{})}}var Wt=(t=>(t.users="/api/users",t.rooms="/api/rooms",t.createRoom="/api/room",t))(Wt||{});function Fr(t){let e;return{c(){e=z("Play")},m(l,n){A(l,e,n)},d(l){l&&E(e)}}}function Wr(t){let e,l,n,r=t[0].id+"",s,i,a,o;return a=new Br({props:{to:"./game/"+t[0].id,class:"btn medium h-100 mr-4",$$slots:{default:[Fr]},$$scope:{ctx:t}}}),{c(){e=y("div"),l=y("div"),n=y("span"),s=z(r),i=R(),D(a.$$.fragment),b(n,"class","headline"),b(l,"class","room-info pl-4 d-flex space-between y-center svelte-17jgl3g"),b(e,"class","room d-flex svelte-17jgl3g")},m(c,u){A(c,e,u),f(e,l),f(l,n),f(n,s),f(l,i),M(a,l,null),o=!0},p(c,[u]){(!o||u&1)&&r!==(r=c[0].id+"")&&ie(s,r);const g={};u&1&&(g.to="./game/"+c[0].id),u&2&&(g.$$scope={dirty:u,ctx:c}),a.$set(g)},i(c){o||(x(a.$$.fragment,c),o=!0)},o(c){$(a.$$.fragment,c),o=!1},d(c){c&&E(e),j(a)}}}function Hr(t,e,l){let{room:n}=e;return t.$$set=r=>{"room"in r&&l(0,n=r.room)},[n]}class Gr extends q{constructor(e){super(),U(this,e,Hr,Wr,W,{room:0})}}function Kn(t,e,l){const n=t.slice();return n[6]=e[l],n}function Ur(t){let e;return{c(){e=y("div"),e.innerHTML='<div class="text my-5 svelte-jw8n2v">No rooms</div>',b(e,"class","wrapp py-5 text-center svelte-jw8n2v")},m(l,n){A(l,e,n)},p:I,i:I,o:I,d(l){l&&E(e)}}}function qr(t){let e,l,n=t[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Vn(Kn(t,n,i));const s=i=>$(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ke()},m(i,a){for(let o=0;o<r.length;o+=1)r[o].m(i,a);A(i,e,a),l=!0},p(i,a){if(a&1){n=i[0];let o;for(o=0;o<n.length;o+=1){const c=Kn(i,n,o);r[o]?(r[o].p(c,a),x(r[o],1)):(r[o]=Vn(c),r[o].c(),x(r[o],1),r[o].m(e.parentNode,e))}for(V(),o=n.length;o<r.length;o+=1)s(o);J()}},i(i){if(!l){for(let a=0;a<n.length;a+=1)x(r[a]);l=!0}},o(i){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)$(r[a]);l=!1},d(i){mt(r,i),i&&E(e)}}}function Vn(t){let e,l;return e=new Gr({props:{room:t[6]}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&1&&(s.room=n[6]),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function Kr(t){let e,l,n,r,s,i,a,o,c,u,g,m;const d=[qr,Ur],_=[];function h(p,w){return p[1]?0:1}return r=h(t),s=_[r]=d[r](t),{c(){e=y("h3"),e.textContent="Rooms:",l=R(),n=y("div"),s.c(),i=R(),a=y("div"),o=y("button"),c=z("Create room"),b(e,"class","px-2 title text-left"),b(o,"class","btn large outlined"),o.disabled=t[2],b(a,"class","text-center my-5"),b(n,"class","rooms-list mt-2")},m(p,w){A(p,e,w),A(p,l,w),A(p,n,w),_[r].m(n,null),f(n,i),f(n,a),f(a,o),f(o,c),u=!0,g||(m=G(o,"click",t[3]),g=!0)},p(p,[w]){let O=r;r=h(p),r===O?_[r].p(p,w):(V(),$(_[O],1,1,()=>{_[O]=null}),J(),s=_[r],s?s.p(p,w):(s=_[r]=d[r](p),s.c()),x(s,1),s.m(n,i)),(!u||w&4)&&(o.disabled=p[2])},i(p){u||(x(s),u=!0)},o(p){$(s),u=!1},d(p){p&&E(e),p&&E(l),p&&E(n),_[r].d(),g=!1,m()}}}function Vr(t,e,l){let n,r;ve(t,je,c=>l(4,r=c));let s=[],i=!1;const a=async()=>{const u=await(await fetch(Xe+Wt.rooms)).json();l(0,s=u),l(1,i=s.length>0)};$t(async()=>{await a()});const o=async()=>{je.set(!0);try{await fetch(Xe+Wt.createRoom,{method:"POST"}).then(u=>u.json())&&await a()}catch{et.set("Something went wrong")}finally{je.set(!1)}};return t.$$.update=()=>{t.$$.dirty&17&&l(2,n=s.length===0&&r)},[s,i,n,o,r]}class Jr extends q{constructor(e){super(),U(this,e,Vr,Kr,W,{})}}function Jn(t,e,l){const n=t.slice();return n[25]=e[l],n}function Yn(t,e,l){const n=t.slice();return n[25]=e[l],n}function Qn(t){let e,l,n=t[25].style+"",r,s,i,a;function o(){return t[13](t[25])}return{c(){e=y("button"),l=z("Test "),r=z(n),b(e,"class",s="btn "+t[25].class+" svelte-94ousw")},m(c,u){A(c,e,u),f(e,l),f(e,r),i||(a=G(e,"click",o),i=!0)},p(c,u){t=c},d(c){c&&E(e),i=!1,a()}}}function Zn(t){let e,l,n=t[25].type+"",r,s,i,a,o;function c(){return t[14](t[25])}return{c(){var u;e=y("button"),l=z("Test "),r=z(n),b(e,"class",s="btn "+((u=t[25].class)!=null?u:"")+" svelte-94ousw"),e.disabled=i=window.Telegram.WebApp.version<6.1},m(u,g){A(u,e,g),f(e,l),f(e,r),a||(o=G(e,"click",c),a=!0)},p(u,g){t=u},d(u){u&&E(e),a=!1,o()}}}function Yr(t){var Cn;let e,l,n,r,s,i,a,o,c,u,g,m,d,_,h,p,w,O,k,C,T,v,S,N,ee,ae,xe,ne,fe=((Cn=t[1])!=null?Cn:"Not set")+"",pe,te,de,Ie,en,Te,tn,nn,Q,rt,ln,it,rn,F,De,sn,ce,on,Le,an,ge,cn,Fe,un,me,fn,We,pn,he,dn,He,gn,_e,mn,Ge,hn,st,_n,Pe,Ce,bn,$e,vn,Ee,ot,yn,Re,wn,at=JSON.stringify(t[7],null,5)+"",Rt,kn,St,xn,Ae=t[9],Z=[];for(let P=0;P<Ae.length;P+=1)Z[P]=Qn(Yn(t,Ae,P));let Ne=t[10],X=[];for(let P=0;P<Ne.length;P+=1)X[P]=Zn(Jn(t,Ne,P));return{c(){e=y("div"),l=y("div"),l.textContent=`Version ${window.Telegram.WebApp.version}`,n=R(),r=y("div"),s=y("span"),i=z("is ready: $"),a=z(t[0]),o=R(),c=y("button"),c.textContent="Ready",u=R(),g=y("div"),m=y("div"),m.textContent="Haptics",d=R(),_=y("div");for(let P=0;P<Z.length;P+=1)Z[P].c();h=R(),p=y("div"),w=y("div"),w.textContent="Notifications",O=R(),k=y("div");for(let P=0;P<X.length;P+=1)X[P].c();C=R(),T=y("div"),v=y("div"),v.textContent="Colors",S=R(),N=y("input"),ee=R(),ae=y("span"),xe=z("Value: "),ne=y("code"),pe=z(fe),te=R(),de=y("div"),Ie=y("button"),Ie.textContent="Set header",en=R(),Te=y("button"),tn=z("Set background"),nn=R(),Q=y("div"),rt=y("div"),rt.textContent="Buttons",ln=R(),it=y("div"),it.textContent="Main button:",rn=R(),F=y("div"),De=y("label"),De.textContent="Button text",sn=R(),ce=y("input"),on=R(),Le=y("label"),Le.textContent="Button text color",an=R(),ge=y("input"),cn=R(),Fe=y("label"),Fe.textContent="Button bg color",un=R(),me=y("input"),fn=R(),We=y("label"),We.textContent="Active",pn=R(),he=y("input"),dn=R(),He=y("label"),He.textContent="Visible",gn=R(),_e=y("input"),mn=R(),Ge=y("button"),Ge.textContent="Apply",hn=R(),st=y("div"),st.textContent="Back button:",_n=R(),Pe=y("div"),Ce=y("button"),Ce.textContent="Show",bn=R(),$e=y("button"),$e.textContent="Hide",vn=R(),Ee=y("div"),ot=y("div"),ot.textContent="Telegram data",yn=R(),Re=y("pre"),wn=z("      "),Rt=z(at),kn=z(`\r
    `),b(l,"class","p5 text-center"),b(s,"class","p-4"),b(c,"class","btn w-100 p-5"),b(r,"class","wrapp mt-5 py-5 svelte-94ousw"),b(m,"class","title-2"),b(_,"class","buttons mt-5 svelte-94ousw"),b(g,"class","wrapp py-5 svelte-94ousw"),b(w,"class","title-2"),b(k,"class","buttons mt-5 svelte-94ousw"),b(p,"class","wrapp py-5 svelte-94ousw"),b(v,"class","title-2"),b(N,"type","text"),b(N,"class","w-100 mt-5 mb-2 p-5"),b(Ie,"class","btn outline"),b(Te,"class","btn outline"),Te.disabled=window.Telegram.WebApp.version<6.1,b(de,"class","buttons mt-5 svelte-94ousw"),b(T,"class","wrapp py-5 svelte-94ousw"),b(rt,"class","title-2"),b(it,"class","title"),b(De,"for","mainbutton-text"),b(De,"class","center svelte-94ousw"),b(ce,"type","text"),b(ce,"id","mainbutton-text"),b(ce,"class","p-4"),b(Le,"for","mainbutton-text-color"),b(Le,"class","center svelte-94ousw"),b(ge,"type","color"),b(ge,"id","mainbutton-text-color"),b(ge,"class","w-100 h-100"),b(Fe,"for","mainbutton-bg-color"),b(Fe,"class","center svelte-94ousw"),b(me,"type","color"),b(me,"id","mainbutton-bg-color"),b(me,"class","w-100 h-100"),b(We,"for","mainbutton-active"),b(We,"class","center svelte-94ousw"),b(he,"type","checkbox"),b(he,"id","mainbutton-active"),b(he,"class","w-100 h-100"),b(He,"for","mainbutton-visible"),b(He,"class","center svelte-94ousw"),b(_e,"type","checkbox"),b(_e,"id","mainbutton-visible"),b(_e,"class","w-100 h-100"),b(F,"class","buttons mt-5 svelte-94ousw"),b(Ge,"class","btn outline large w-100 my-5"),b(st,"class","title"),b(Ce,"class","btn"),L(Ce,"outline",t[8]),b($e,"class","btn"),L($e,"outline",!t[8]),b(Pe,"class","buttons mt-5 svelte-94ousw"),b(Q,"class","wrapp py-5 svelte-94ousw"),b(ot,"class","title-2"),b(Re,"class","p-3"),Mt(Re,"overflow","auto"),b(Ee,"class","wrapp py-5 svelte-94ousw"),b(e,"class","my-5 px-3")},m(P,H){A(P,e,H),f(e,l),f(e,n),f(e,r),f(r,s),f(s,i),f(s,a),f(r,o),f(r,c),f(e,u),f(e,g),f(g,m),f(g,d),f(g,_);for(let le=0;le<Z.length;le+=1)Z[le].m(_,null);f(e,h),f(e,p),f(p,w),f(p,O),f(p,k);for(let le=0;le<X.length;le+=1)X[le].m(k,null);f(e,C),f(e,T),f(T,v),f(T,S),f(T,N),be(N,t[1]),f(T,ee),f(T,ae),f(ae,xe),f(ae,ne),f(ne,pe),f(T,te),f(T,de),f(de,Ie),f(de,en),f(de,Te),f(Te,tn),f(e,nn),f(e,Q),f(Q,rt),f(Q,ln),f(Q,it),f(Q,rn),f(Q,F),f(F,De),f(F,sn),f(F,ce),be(ce,t[2]),f(F,on),f(F,Le),f(F,an),f(F,ge),be(ge,t[3]),f(F,cn),f(F,Fe),f(F,un),f(F,me),be(me,t[4]),f(F,fn),f(F,We),f(F,pn),f(F,he),he.checked=t[5],f(F,dn),f(F,He),f(F,gn),f(F,_e),_e.checked=t[6],f(Q,mn),f(Q,Ge),f(Q,hn),f(Q,st),f(Q,_n),f(Q,Pe),f(Pe,Ce),f(Pe,bn),f(Pe,$e),f(e,vn),f(e,Ee),f(Ee,ot),f(Ee,yn),f(Ee,Re),f(Re,wn),f(Re,Rt),f(Re,kn),St||(xn=[G(c,"click",t[12]),G(N,"input",t[15]),G(Ie,"click",t[16]),G(Te,"click",t[17]),G(ce,"input",t[18]),G(ge,"input",t[19]),G(me,"input",t[20]),G(he,"change",t[21]),G(_e,"change",t[22]),G(Ge,"click",t[11]),G(Ce,"click",t[23]),G($e,"click",t[24])],St=!0)},p(P,[H]){var le;if(H&1&&ie(a,P[0]),H&512){Ae=P[9];let B;for(B=0;B<Ae.length;B+=1){const Ue=Yn(P,Ae,B);Z[B]?Z[B].p(Ue,H):(Z[B]=Qn(Ue),Z[B].c(),Z[B].m(_,null))}for(;B<Z.length;B+=1)Z[B].d(1);Z.length=Ae.length}if(H&1024){Ne=P[10];let B;for(B=0;B<Ne.length;B+=1){const Ue=Jn(P,Ne,B);X[B]?X[B].p(Ue,H):(X[B]=Zn(Ue),X[B].c(),X[B].m(k,null))}for(;B<X.length;B+=1)X[B].d(1);X.length=Ne.length}H&2&&N.value!==P[1]&&be(N,P[1]),H&2&&fe!==(fe=((le=P[1])!=null?le:"Not set")+"")&&ie(pe,fe),H&4&&ce.value!==P[2]&&be(ce,P[2]),H&8&&be(ge,P[3]),H&16&&be(me,P[4]),H&32&&(he.checked=P[5]),H&64&&(_e.checked=P[6]),H&256&&L(Ce,"outline",P[8]),H&256&&L($e,"outline",!P[8]),H&128&&at!==(at=JSON.stringify(P[7],null,5)+"")&&ie(Rt,at)},i:I,o:I,d(P){P&&E(e),mt(Z,P),mt(X,P),St=!1,ue(xn)}}}function Qr(t,e,l){let n,r;const s=[{style:"light",class:"medium outline"},{style:"medium",class:"medium"},{style:"heavy",class:"medium"},{style:"rigid",class:"medium"},{style:"soft",class:"medium outline"}],i=[{type:"success",class:""},{type:"warning"},{type:"error"}];let a,o,c,u,g,m;const d=()=>{window.Telegram.WebApp.MainButton.setParams({text:o,color:u,text_color:c,is_active:g,is_visible:m})};let _=!1;const h=()=>{window.Telegram.WebApp.ready(),setTimeout(()=>{l(0,_=!0)},100)},p=ne=>window.Telegram.WebApp.HapticFeedback.impactOccurred(ne.style),w=ne=>window.Telegram.WebApp.HapticFeedback.notificationOccurred(ne.type);function O(){a=this.value,l(1,a)}const k=()=>window.Telegram.WebApp.setHeaderColor(a),C=()=>window.Telegram.WebApp.setBackgroundColor(a);function T(){o=this.value,l(2,o)}function v(){c=this.value,l(3,c)}function S(){u=this.value,l(4,u)}function N(){g=this.checked,l(5,g)}function ee(){m=this.checked,l(6,m)}const ae=()=>window.Telegram.WebApp.BackButton.show(),xe=()=>window.Telegram.WebApp.BackButton.hide();return t.$$.update=()=>{t.$$.dirty&1&&l(7,r=window.Telegram)},l(8,n=window.Telegram.WebApp.BackButton.isVisible),[_,a,o,c,u,g,m,r,n,s,i,d,h,p,w,O,k,C,T,v,S,N,ee,ae,xe]}class Zr extends q{constructor(e){super(),U(this,e,Qr,Yr,W,{})}}function Xr(t){let e,l;return e=new fr({props:{roomId:t[0].id}}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},p(n,r){const s={};r&1&&(s.roomId=n[0].id),e.$set(s)},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function ei(t){let e,l;return e=new Zr({}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function ti(t){let e,l;return e=new Jr({}),{c(){D(e.$$.fragment)},m(n,r){M(e,n,r),l=!0},i(n){l||(x(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){j(e,n)}}}function ni(t){let e,l,n,r,s,i;return e=new Nt({props:{path:"/game/:id",$$slots:{default:[Xr,({params:a})=>({0:a}),({params:a})=>a?1:0]},$$scope:{ctx:t}}}),n=new Nt({props:{path:"/tg-test",$$slots:{default:[ei]},$$scope:{ctx:t}}}),s=new Nt({props:{path:"/",$$slots:{default:[ti]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),l=R(),D(n.$$.fragment),r=R(),D(s.$$.fragment)},m(a,o){M(e,a,o),A(a,l,o),M(n,a,o),A(a,r,o),M(s,a,o),i=!0},p(a,o){const c={};o&3&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);const u={};o&2&&(u.$$scope={dirty:o,ctx:a}),n.$set(u);const g={};o&2&&(g.$$scope={dirty:o,ctx:a}),s.$set(g)},i(a){i||(x(e.$$.fragment,a),x(n.$$.fragment,a),x(s.$$.fragment,a),i=!0)},o(a){$(e.$$.fragment,a),$(n.$$.fragment,a),$(s.$$.fragment,a),i=!1},d(a){j(e,a),a&&E(l),j(n,a),a&&E(r),j(s,a)}}}function li(t){let e,l,n,r,s;return e=new Lr({}),r=new Tr({props:{basepath:El,$$slots:{default:[ni]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),l=R(),n=y("main"),D(r.$$.fragment),b(n,"class","main svelte-4h074o")},m(i,a){M(e,i,a),A(i,l,a),A(i,n,a),M(r,n,null),s=!0},p(i,[a]){const o={};a&2&&(o.$$scope={dirty:a,ctx:i}),r.$set(o)},i(i){s||(x(e.$$.fragment,i),x(r.$$.fragment,i),s=!0)},o(i){$(e.$$.fragment,i),$(r.$$.fragment,i),s=!1},d(i){j(e,i),i&&E(l),i&&E(n),j(r)}}}function ri(t){var e,l;return jt("user",(l=(e=window.Telegram.WebApp.initDataUnsafe)==null?void 0:e.user)!=null?l:{username:prompt("username","serg"),id:Date.now(),first_name:"Serg",last_name:"",language_code:"en"}),[]}class ii extends q{constructor(e){super(),U(this,e,ri,li,W,{})}}new ii({target:document.getElementById("app")});
